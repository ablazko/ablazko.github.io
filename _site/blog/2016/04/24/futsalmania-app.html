<!DOCTYPE html>
<!--[if lt IE 7 ]><html class="ie ie6" lang="en"><![endif]-->
<!--[if IE 7 ]><html class="ie ie7" lang="en"><![endif]-->
<!--[if IE 8 ]><html class="ie ie8" lang="en"><![endif]-->
<!--[if (gte IE 9)|!(IE)]><!--><html lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Andre Blazko - The 'Futsal Mania' app!</title>
  <meta name="author" content="Andre Blazko" />
  <meta name="description" content="The blog of Andre Blazko" />
  <link rel="canonical" href="http://ablazko.github.io/blog/2016/04/24/futsalmania-app.html" />
  <link rel="shortcut icon" href="/favicon.png">
  <link rel="alternate" type="application/rss+xml" title="Andre Blazko" href="http://ablazko.github.io/atom.xml" />
  <link rel="stylesheet" href="/assets/css/all.css">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/font-awesome/4.2.0/css/font-awesome.min.css">
  
<link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/styles/googlecode.min.css">
<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/highlight.min.js"></script>

<script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.8.0/languages/r.min.js"></script>

<script>
hljs.configure({languages: []})
hljs.initHighlightingOnLoad();
</script>


</head>
<body>
  <div class="container">
    <div class="four columns sidebar">
      <nav>
  <a href="/">
    <img src="/logo.png" id="logo" alt="Blog logo"/>
  </a>
  <h2>I'm <a href="/">Andre Blazko</a></h2>
  <hr/>
  <div>
  <p>I'm a statistician, R addicted, data science enthusiast and passionate about music and futsal!
  <br><br> This blog is about tackling the challenges of data science analysis and predictive modeling, R programming and R/Shiny apps.
  </p>
  <hr/>
  <div>
    <div id="social">
      <div id="stalker">
  
  <a title="ablazko on Github" href="https://github.com/ablazko" target="_blank">
    <i class="fa fa-github-square"></i>
  </a>
  

  

  

  

  

  
  <a title="ablazko on Twitter" href="https://twitter.com/ablazko" target="_blank">
    <i class="fa fa-twitter-square"></i>
  </a>
  

  

  

  
  <a title="Andre Blazko on LinkedIn" href="https://br.linkedin.com/in/andreblazko" target="_blank">
    <i class="fa fa-linkedin-square"></i>
  </a>
  

  

  <a title="RSS feed" id="rss" href="/atom.xml" target="_blank">
    <i class="fa fa-rss-square"></i>
  </a>
</div>

    </div>
  </div>
  <hr/>
  <div>
    <p>The blog posts are shared to <a href="https://r-bloggers.com/" target="_blank">R-bloggers</a>.</p>
  </div>
  </div>
</nav>

    </div>
    <div class="eleven columns content">
      <p class="meta">
  April 24, 2016
  <a href="/">
    <i class="home fa fa-home"></i>
  </a>
</p>

<h1 class="title">The 'Futsal Mania' app!</h1>

<div id="post">
  <p>Right after I’ve set up my (this) new blog I started to handle some data regarding futsal sport. It was for fun in the beginning, and my curiosity about the team’s performance along the national competitions was getting higher and higher. About a two weeks ago started the LNF 2016 season here in Brazil. And for some reason I wanted to get this app running on live right away. And so I focus to accomplish that! And I did it! :-)</p>

<p>[ you can check it out the app here  <a href="http://ablazko.github.io/futsalmania" target="_blank">FUTSAL MANIA</a> ]</p>

<p>The hard time was to figure it out the ‘right’ names for the teams, since it is quite usual in this competition to have compound names because their new sponsors. For example, in 2014/2015 seasons the team of Sorocaba was also called as Brasil Kirin. This 2016 season they have a new sponsor and now they are being called as Magnus Futsal. Yes, I know! :/  This is really terrible for gathering data… but still is not impossible do arrange that! And as older the seasons, more problems with their names.</p>

<p>In general, I tried to keep the most known name of them. For the example above, the oficial name I set for the team of Sorocaba city was ‘Sorocaba’, regardless of their sponsors at that time.</p>

<p>Unfortunately, I was only able to find data regarding the games since LNF 2010. Before that, I still didn’t find any reliable source. Still diggind the web for that… not even LNF oficial association could help me on that. They indeed have all the data, but still the most part of them are not digital yet, so. They told me they have a project running to change that, but it is going to take time. Let’s wait then.</p>

<p>But let’s start talking about the interesting part… the data and how R/Shiny could help me turn my ideas in reality! :D</p>

<p>Basically, the most of the work (so far!) was all about munging the data and cleaning it. I focused to create a <code class="highlighter-rouge">score</code> to measure the perfomance of the teams at each season and then combine them to get an overall (actual) <code class="highlighter-rouge">score</code>. My first goal was to have <strong>the first ranking of the LNF’s teams in Brazil</strong>, considering all their history and performance results in these competitions.</p>

<p>Here it is a screen shot of this ranking…</p>

<p><img src="/posts-img/2016-04-24-futsalmania-app-img1.png" width="630" heigth="480" /></p>

<p>My second goal was to analyse the duel between two teams, the most important statistics involving them (the duel) and also their history in the competition. And this is the result…</p>

<p><img src="/posts-img/2016-04-24-futsalmania-app-img2.png" alt="duel-screenshot" width="630" heigth="480" /></p>

<p>And now, once the app are fully running I can play around with all the data available, share some analysis with my friends and just have fun about it!</p>

<p>You can play around with this app in <a href="http://ablazko.github.io/futsalmania" target="_blank">FUTSAL MANIA</a>. I intend to keep it updated regarding the new games from now on. And also want to implement some new features and analysis.</p>

<p>To write this app I used the following packages in server side:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>library(gridExtra)  # graphics
library(ggplot2)    # graphics
library(grid)       # some functions used in ggplot
library(rdrop2)     # dropbox integration
library(DT)         # data table presentation in shiny
library(data.table) # data manipulation
</code></pre>
</div>

<p>And in ui side:</p>

<div class="highlighter-rouge"><pre class="highlight"><code>library(shiny)
library(shinydashboard)
library(shinyjs)
</code></pre>
</div>

<p>My strategy to keep the data updated (periodically) was by dropbox integration. The <code class="highlighter-rouge">rdrop2</code> library is pretty handy to deal that. The <code class="highlighter-rouge">data.table</code> library made a lot of difference too. Their performance for data manipulation is very higher if compared to R basis. Well, that’s true ins most of the cases! During this work I found an interesting issue with <code class="highlighter-rouge">data.table</code> when you have to use <code class="highlighter-rouge">cbind</code> function. Actually, its performance for this is surprisingly worse the R basis! So if you need to <code class="highlighter-rouge">cbind</code> columns I advice you to turn your data frame to <code class="highlighter-rouge">data.frame</code> format first, then <code class="highlighter-rouge">cbind</code> your column(s), and then back to <code class="highlighter-rouge">data.table</code> format. It’s quite annoying, but is worth it. This is probably an issue that I hope to be handled in next versions of <code class="highlighter-rouge">data.table</code> package.</p>

<p>That’s all folks! ;-)
<br /><br /></p>

</div>

<div id="related">
  <h3>Related Posts</h3>
  <ul class="posts">
    
    <li>
      <span>17 May 2016 &raquo;</span> <a href="/blog/2016/05/17/ks.html">KS Curve plot</a>
    </li>
    
    <li>
      <span>08 May 2016 &raquo;</span> <a href="/blog/2016/05/08/roc-curve.html">ROC Curve plot and AUC</a>
    </li>
    
    <li>
      <span>01 May 2016 &raquo;</span> <a href="/blog/2016/05/01/predictive-performance-metrics.html">Predictive Performance Metrics</a>
    </li>
    
  </ul>
</div>


<div id="disqus_thread"></div>
<script type="text/javascript">
    var disqus_shortname = 'ablazko';
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$']],
        processEscapes: true
      }
    });
</script>
<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>


      <div class="footer">
        <div class="disclaimer">
  
  <p>
    
    All articles are authored and published by Andre Blazko.
    
    The contents on this site are licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/deed.en_US">Creative Commons Attribution-NonCommercial 4.0 International License</a>.
  </p>
  

  <p>
    © <a href="mailto:andre.blazko@gmail.com">Andre Blazko</a>, 2016 &mdash; hosted by <a href="http://pages.github.com/">GitHub Pages</a> and built with <a href="http://jekyllrb.com/">Jekyll</a> using <a href="http://jekyllthemes.org/themes/lagom/">Lagom theme</a>.
  </p>
</div>

      </div>
    </div>
  </div>

<script type="text/javascript">
var _gaq = _gaq || [];
_gaq.push(['_setAccount', 'UA-75826037-1']);
_gaq.push(['_trackPageview']);
(function() {
var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;

ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';

var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
})();
</script>

</body>
</html>
